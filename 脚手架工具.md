### 脚手架工具

#### 概要
脚手架的本质作用：创建项目基础结构、提供项目规范和约定

#### 常见的脚手架工具
-create-react-app -> React项目

-vue-cli -> Vue.js项目

-angular-cli -> Angular项目

-Yeoman -> 最通用的脚手架工具

-Plop -> 创建项目中同类型的小型脚手架工具


#### 使用Yeoman创建Vue Generator案例
1.打开命令窗口输入 mkdir generator-zce-vue 创建新的generator目录

![image](https://user-images.githubusercontent.com/37037802/118615374-40618180-b7f3-11eb-84aa-5492a1c2436b.png)

2.进入新建的generator-zce-vue目录

![image](https://user-images.githubusercontent.com/37037802/118615957-d5fd1100-b7f3-11eb-965e-86e3fcff9bef.png)

3.通过yarn init方式去初始化package.json

![image](https://user-images.githubusercontent.com/37037802/118616507-591e6700-b7f4-11eb-8505-ef62fcdb0af6.png)

4.安装yeoman-generator依赖

![image](https://user-images.githubusercontent.com/37037802/118616930-b9ada400-b7f4-11eb-95c1-728a1a04af5c.png)

5.打开vs-code编辑器进入相应目录，在目录下新建一个路径为generators/app/index.js的入口文件

![image](https://user-images.githubusercontent.com/37037802/118618051-ced70280-b7f5-11eb-8671-e59c086cf743.png)

6.在入口文件进行相应操作

```markdown
//通过require方式，载入yeoman-generator依赖
const Generator = require('yeoman-generator')

//导出一个继承Generator的类型
module.exports = class extends Generator {
  //定义一个prompting方法用于以命令行方式询问用户问题（目前的项目只询问项目名称，有需要可自行添加）
  prompting () {
    return this.prompt([
      {
        type: 'input',
        name: 'name',
        message: 'Your project name',
        default: this.appname
      }
    ])
    .then(answers => {
      //then方法返回prompting的返回值，即用户输入的数据，然后把数据挂载到this上即便后续使用
      this.answers = answers
    })
  }
}
```
7.创建templates目录，把我们想要的结构拷贝至templates目录下作为模板

![image](https://user-images.githubusercontent.com/37037802/118623169-8e2db800-b7fa-11eb-973d-00e5e9610155.png)

8.把项目结构里可变的地方通过模板引擎语法替换成ejs的标记

![image](https://user-images.githubusercontent.com/37037802/118623966-52dfb900-b7fb-11eb-92a1-6ea082aa81e3.png)
![image](https://user-images.githubusercontent.com/37037802/118624041-625f0200-b7fb-11eb-854c-8e4cc138b989.png)

9.通过writing方法把模板下的结构生成至对应的目标路径

```markdown
//通过require方式，载入yeoman-generator依赖
const Generator = require('yeoman-generator')

//导出一个继承Generator的类型
module.exports = class extends Generator {
  //定义一个prompting方法用于以命令行方式询问用户问题（目前的项目只询问项目名称，有需要可自行添加）
  prompting () {
    return this.prompt([
      {
        type: 'input',
        name: 'name',
        message: 'Your project name',
        default: this.appname
      }
    ])
    .then(answers => {
      //then方法返回prompting的返回值，即用户输入的数据，然后把数据挂载到this上即便后续使用
      this.answers = answers
    })
  }

  writing () {
    // 把每一个文件都通过模板转换到目标路径

    const templates = [
      '.browserslistrc',
      '.editorconfig',
      '.env.development',
      '.env.production',
      '.eslintrc.js',
      '.gitignore',
      'babel.config.js',
      'package.json',
      'postcss.config.js',
      'README.md',
      'public/favicon.ico',
      'public/index.html',
      'src/App.vue',
      'src/main.js',
      'src/router.js',
      'src/assets/logo.png',
      'src/components/HelloWorld.vue',
      'src/store/actions.js',
      'src/store/getters.js',
      'src/store/index.js',
      'src/store/mutations.js',
      'src/store/state.js',
      'src/utils/request.js',
      'src/views/About.vue',
      'src/views/Home.vue'
    ]

    templates.forEach(item => {
      // item => 每个文件路径
      this.fs.copyTpl(
        this.templatePath(item),
        this.destinationPath(item),
        this.answers
      )
    })
  }
}
```

10.回到命令行，通过yarn link方式把generator-zce-vue模块作为全局模块

![image](https://user-images.githubusercontent.com/37037802/118625432-9850b600-b7fc-11eb-8014-7984cc3bb2b3.png)

11.然后我们定位一个全新的目录（这里为my-proj目录），通过Yeoman命令去运行我们刚刚创建的Generator

![image](https://user-images.githubusercontent.com/37037802/118626396-6db32d00-b7fd-11eb-8402-5d6d097ed962.png)

12.运行成功后，my-proj目录下就会生成相应结构

![image](https://user-images.githubusercontent.com/37037802/118626938-def2e000-b7fd-11eb-9181-f9e3426c2a98.png)


